use <nuts.scad>


module power_holes() {
    translate([176.5, 130.5, -1]) hole_for_standoff_m3_4mm();
    translate([116.5, 65, -1]) hole_for_standoff_m3_4mm();
    translate([181.5, 83.5, -1]) hole_for_standoff_m3_4mm();
    translate([116.5, 130.5, -1]) hole_for_standoff_m3_4mm();
    
    // ensure inductors on the bottom of the board have holes to fit through
    translate([176.5 - 493, 130.5 - 132, 0])
    union() {
        hull() {
            translate([433 - 116.5 + 144.8275, 132 - 130.5 + 111.2125, 0])
                circle(d=12);
            translate([433 - 116.5 + 144.8275, 132 - 130.5 + 118.8325, 0])
                circle(d=12);
        }
        translate([433 - 116.5 + 175.3075, 132 - 130.5 + 102.3225, 0])
            circle(d=10.5);
    }
}

module power() {
    brd_thickness = 1.6;

    color("#009900")
    scale([1, -1, 1])
    difference() {
        linear_extrude(brd_thickness) {
            polygon(points = [[180.5,133.5], [180.5,91.5], [180.51848,91.02924], [180.57386,90.56142], [180.66578,90.0993], [180.79364,89.64588], [180.95672,89.20392], [181.15394,88.77606], [181.38416,88.365], [181.64588,87.97326], [181.93754,87.6033], [182.25734,87.25734], [182.6033,86.93754], [182.97326,86.64588], [183.365,86.38416], [183.77606,86.15394], [184.20392,85.95672], [184.64588,85.79364], [185.0993,85.66578], [185.56142,85.57386], [186.02924,85.51848], [186.5,85.5], [198.5,85.5], [198.65643,85.48769], [198.80902,85.45106], [198.95399,85.39101], [199.08779,85.30902], [199.20711,85.20711], [199.30902,85.08779], [199.39101,84.95399], [199.45106,84.80902], [199.48769,84.65643], [199.5,84.5], [199.5,59.500001], [199.48769,59.34357], [199.45106,59.19098], [199.39101,59.04601], [199.30902,58.91221], [199.20711,58.79289], [199.08779,58.69098], [198.95399,58.60899], [198.80902,58.54894], [198.65643,58.51231], [198.5,58.5], [94.5,58.5], [94.34357,58.51231], [94.19098,58.54894], [94.04601,58.60899], [93.91221,58.69098], [93.79289,58.79289], [93.69098,58.91221], [93.60899,59.04601], [93.54894,59.19098], [93.51231,59.34357], [93.5,59.5], [93.5,82.5], [93.51231,82.65643], [93.54894,82.80902], [93.60899,82.95399], [93.69098,83.08779], [93.79289,83.20711], [93.91221,83.30902], [94.04601,83.39101], [94.19098,83.45106], [94.34357,83.48769], [94.5,83.5], [106.5,83.5], [106.97076,83.51848], [107.43858,83.57386], [107.9007,83.66578], [108.35412,83.79364], [108.79608,83.95672], [109.22394,84.15394], [109.635,84.38416], [110.02674,84.64588], [110.3967,84.93754], [110.74266,85.25734], [111.06246,85.6033], [111.35412,85.97326], [111.61584,86.365], [111.84606,86.77606], [112.04328,87.20392], [112.20636,87.64588], [112.33422,88.0993], [112.42614,88.56142], [112.48152,89.02924], [112.5,89.5], [112.5,133.5], [112.51231,133.65643], [112.54894,133.80902], [112.60899,133.95399], [112.69098,134.08779], [112.79289,134.20711], [112.91221,134.30902], [113.04601,134.39101], [113.19098,134.45106], [113.34357,134.48769], [113.5,134.5], [179.5,134.5], [179.65643,134.48769], [179.80902,134.45106], [179.95399,134.39101], [180.08779,134.30902], [180.20711,134.20711], [180.30902,134.08779], [180.39101,133.95399], [180.45106,133.80902], [180.48769,133.65643], [180.5,133.5]]);
        }
        translate([0, 0, -1]) linear_extrude(brd_thickness+2) power_holes();
    }
}

power();
