use <nuts.scad>

module power_holes() {
    translate([493, 132, 0])
        nuthole_m3();
    translate([433, 66.5, 0])
        nuthole_m3();
    translate([498, 85, 0])
        nuthole_m3();
    translate([433, 132, 0])
        nuthole_m3();

    // ensure inductors on the bottom of the board have holes to fit through
    hull() {
        translate([433 - 116.5 + 144.8275, 132 - 130.5 + 111.2125, 0])
            circle(d=12);
        translate([433 - 116.5 + 144.8275, 132 - 130.5 + 118.8325, 0])
            circle(d=12);
    }
    translate([433 - 116.5 + 175.3075, 132 - 130.5 + 102.3225, 0])
        circle(d=10.5);
}

module power() {
    brd_thickness = 1.6;

    color("#009900")
    scale([1, -1, 1])
    difference() {
        linear_extrude(brd_thickness) {
            polygon(points = [[497,135], [497,93], [497.01848,92.52924], [497.07386,92.06142], [497.16578,91.5993], [497.29364,91.14588], [497.45672,90.70392], [497.65394,90.27606], [497.88416,89.865], [498.14588,89.47326], [498.43754,89.1033], [498.75734,88.75734], [499.1033,88.43754], [499.47326,88.14588], [499.865,87.88416], [500.27606,87.65394], [500.70392,87.45672], [501.14588,87.29364], [501.5993,87.16578], [502.06142,87.07386], [502.52924,87.01848], [503,87], [515,87], [515.15643,86.98769], [515.30902,86.95106], [515.45399,86.89101], [515.58779,86.80902], [515.70711,86.70711], [515.80902,86.58779], [515.89101,86.45399], [515.95106,86.30902], [515.98769,86.15643], [516.0,86.0], [516,61.000001], [515.9848098481,60.8263482634], [515.9396893969,60.657976579700005], [515.8660186602,60.500005], [515.7660376604,60.3572135721], [515.6427864279,60.233962339600005], [515.499995,60.1339813398], [515.3420234203,60.06031060310001], [515.1736517366,60.0151901519], [515.0000000001,60.0], [430,60], [429.84357,60.01231], [429.69098,60.04894], [429.54601,60.10899], [429.41221,60.19098], [429.29289,60.29289], [429.19098,60.41221], [429.10899,60.54601], [429.04894,60.69098], [429.01231,60.84357], [429.0,61.0], [429,135], [429.01231,135.15643], [429.04894,135.30902], [429.10899,135.45399], [429.19098,135.58779], [429.29289,135.70711], [429.41221,135.80902], [429.54601,135.89101], [429.69098,135.95106], [429.84357,135.98769], [430.0,136.0], [496,136], [496.15643,135.98769], [496.30902,135.95106], [496.45399,135.89101], [496.58779,135.80902], [496.70711,135.70711], [496.80902,135.58779], [496.89101,135.45399], [496.95106,135.30902], [496.98769,135.15643], [497.0,135.0]]);
        }
        translate([0, 0, -1]) linear_extrude(brd_thickness+2) power_holes();
    }
}
